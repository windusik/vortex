<!DOCTYPE html>
<html>
<head>
  <title>SVG Morph & Draw - VortexJS</title>
  <script src="../../../dist/vortex.min.js"></script>
  <style>
    body { display: flex; flex-direction: column; align-items: center; }
    svg { margin: 20px; border: 1px solid #eee; }
    .controls { margin: 20px; }
    button { margin: 0 10px; padding: 8px 16px; }
  </style>
</head>
<body>
  <h1>SVG Morphing & Drawing</h1>
  
  <div class="controls">
    <button id="morph">Morph Shape</button>
    <button id="draw">Draw Path</button>
    <button id="reset">Reset</button>
  </div>
  
  <svg width="400" height="400" viewBox="0 0 100 100">
    <path id="shape" d="M10 10 L90 10 L90 90 L10 90 Z" 
          fill="none" stroke="#3498db" stroke-width="2"/>
  </svg>

  <script>
    const svg = Vortex.svg(document.querySelector('svg'));
    const path = document.getElementById('shape');
    
    const shapes = [
      'M10 10 L90 10 L90 90 L10 90 Z',
      'M20 50 Q50 10 80 50 T140 50',
      'M30 30 L70 30 L70 70 L30 70 Z',
      'M50 10 L90 50 L50 90 L10 50 Z'
    ];
    
    let currentShape = 0;
    
    document.getElementById('morph').addEventListener('click', () => {
      currentShape = (currentShape + 1) % shapes.length;
      svg.morphPath(0, shapes[currentShape], 1000, 'easeInOutElastic');
    });
    
    document.getElementById('draw').addEventListener('click', () => {
      path.style.strokeDasharray = null;
      path.style.strokeDashoffset = null;
      
      Vortex.animate({
        targets: path.style,
        properties: {
          strokeDasharray: { value: 500, duration: 0 },
          strokeDashoffset: { value: 0, duration: 2000 }
        }
      });
    });
    
    document.getElementById('reset').addEventListener('click', () => {
      path.setAttribute('d', shapes[0]);
      path.style.strokeDasharray = null;
      path.style.strokeDashoffset = null;
      currentShape = 0;
    });
  </script>
</body>
</html>